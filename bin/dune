(install
 (section bin)
 (files compile.exe pretty.exe transform.exe))

(rule
 (targets config.ml)
 (deps    ../config.ml)
 (action  (copy %{deps} %{targets})))

(executable
 (name pretty)
 (libraries core castor)
 (flags (:standard -g -bin-annot))
 (preprocess (pps ppx_sexp_conv ppx_let))
 (modules pretty))

(executable
 (name compile)
 (libraries core castor logs)
 (flags (:standard -g -bin-annot))
 (preprocess (pps ppx_sexp_conv ppx_let))
 (modules compile config))

(executable
 (name transform)
 (libraries core castor logs)
 (flags (:standard -g -bin-annot))
 (preprocess (pps ppx_sexp_conv ppx_let))
 (modules transform))

(executable
 (name sample)
 (libraries core postgresql castor logs)
 (flags (:standard -g -bin-annot))
 (preprocess (pps ppx_sexp_conv ppx_let))
 (modules sample))

(executable
 (name sample_tpch)
 (libraries core postgresql castor logs)
 (flags (:standard -g -bin-annot))
 (preprocess (pps ppx_sexp_conv ppx_let))
 (modules sample_tpch))

; Local Variables:
; mode: tuareg-dune
; End:
