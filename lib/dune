(rule
 (targets config.ml)
 (deps    ../config.ml)
 (action  (copy %{deps} %{targets})))

(menhir
 (infer false)
 (modules ralgebra_parser))

(ocamllex ralgebra_lexer)

(menhir
 (infer false)
 (modules transform_parser))

(ocamllex transform_lexer)

(library
 (public_name castor)
 (libraries base core stdio str postgresql llvm llvm.analysis llvm.target llvm.all_backends logs cmph expect_test_helpers_kernel visitors.runtime gen bos ounit)
 (inline_tests)
 (preprocess (pps ppx_sexp_conv ppx_compare ppx_hash ppx_expect visitors.ppx bisect_ppx -conditional -exclude-file=castor/lib/.bisect_exclude))
 (preprocessor_deps (file .bisect_exclude))
)

; Local Variables:
; mode: tuareg-dune
; End:
